# AnyWeb 介绍

## AnyWeb 是什么？

AnyWeb 树图数连是一款针对中国环境设计的无需插件、强合规的区块链资产钱包及统一认证服务，支持国内唯一合规公链——Conflux 树图公链。

## AnyWeb 树图数连的核心特性

1. AnyWeb 针对中国环境政策合规进行设计，消除开发者在公链进行应用开发的合规性顾虑。
2. AnyWeb 在用户侧针对中国用户体验进行设计，用户无需安装浏览器插件、无需下载App、无需理解助记词、私钥等复杂概念就可以无门槛接入 Web3 体验下一代互联网应用。
3. AnyWeb 针对中国应用场景、开发者习惯设计，AnyWeb 支持 App、H5、小程序多种方式接入，并提供开源 [AnyWeb-JS-SDK](https://github.com/IdeaLightLabs/AnyWeb-JS-SDK) 。与此同时，AnyWeb 兼容已有 DApp 的一键接入，开发 DApp 业务逻辑与现有 Conflux-JS-SDK / Web3.js 习惯保持一致。

## 为什么中国 Web3 需要 AnyWeb？

Web3 的主要发展阵地一直在海外，因此 Web3 相关生态设施都是针对海外用户习惯而设计的。与国内用户习惯不同，海外用户的主要体验终端在 PC 侧，因而各种资产钱包都是使用浏览器插件开发的。另外，由于海外拥有较为长期、相对完整的 Web3 用户市场教育，用户对于助记词、私钥等概念理解较国内而言更为深入。
相比之下，国内拥有完全不一样的情况：
1. 在终端侧，国内是移动互联网、移动应用（甚至是小程序应用）主导的；
2. 用户没有助记词、私钥等基础概念理解；
3. 用户往往不擅长复杂密码的记忆；
4. 国内互联网应用服务提供方需要接受合规性监管，用户也需要实名才能使用互联网服务。

上述差异导致了海外的 DApp 开发接入方案、资产钱包等基础设施在国内完全不可复用，因此，国内第一批 Web3 用户正在遭遇着这些差异所带来的糟糕的体验影响，这些差异也制约了国内 Web3 生态应用的发展。

在以前，Conflux 主要的基础设施主要是面向海外的，但随着 Web3 应用场景的不断发展以及国内各类基于公链的to C应用需求量快速增长，Conflux 急需一个专为国内环境、国内用户设计的资产钱包，也急需一套针对国内 DApp 的应用开发的完整接入方案。
因此，AnyWeb 的诞生填补了这一空白，这同时也意味着：Conflux 成为唯一一个具备中国端到端链上应用解决方案的全球公链。

## AnyWeb 是如何针对合规问题进行设计的？

在中国，提供或使用互联网服务需要接受政府监管，相比海外“自由”但乱象丛生（诈骗、非法集资、恶意操纵市场、洗钱等违法行为）的加密市场，这种监管是极为必要的，这能够保障多数用户的利益不受损失。同时，具备强大共识的政府公信主导下的监管也并不会破坏加密本身的共识，相反能够大大增强中国用户对于 Web3 的体验信任。
监管的前提是实名化——这在中国是一个法规要求、普遍接受、经过验证的优秀实践。因此，AnyWeb 作为连接应用和用户的“区块链网关”，是一个极佳的监管实践切入点。具体做法如下：

1. 用户使用 AnyWeb 需要通过手机号完成实名认证，针对未来可能涉及到的敏感资产操作也会逐步开放更高级别的实名认证。
2. 开发者通过 AnyWeb 接入 DApp 首先需要成为实名认证开发者，提交应用后需要经过 AnyWeb 审核，通过后方可对外提供服务。
3. 在未来，AnyWeb 会加入应用合约审计的能力，并将政府监管通过公开的合约接入到各个 DApp，确保监管部门的执法权在链上也具备可实施性。

## AnyWeb 是如何实现无需插件的钱包能力的？

在上文我们提到过，中国用户的体验终端与海外有较大差异，因此插件式钱包不能很好地符合中国用户的使用习惯。

针对这个问题，AnyWeb 设计了基于热账户的网页钱包与基于 Web 技术的 WASM 可信本地签名机。对于没有安装任何钱包介质的用户，DApp 可以直接在 H5 端唤起 AnyWeb 网页钱包，用户可以直接在 H5 端完成一整套 Web3 体验。

这一设计目标的直接挑战在于：

1. 私钥是在云端加密托管的，而签名过程与上链行为是在用户终端完成的。交易签名需要使用明文私钥才能完成，因而签名机必须运行在区别于 DApp 的独立上下文环境，否则用户的私钥极容易遭到泄漏，这也是为什么目前的钱包均采用浏览器插件的原因（浏览器插件具备独立的上下文运行时）。
2. 相比于 PC 浏览器插件或 App，浏览器网页端的环境（WebView）是极为不可信的，因为 WebView 的上一级权限 Owner 是 App 而非操作系统，黑客很有可能通过恶意应用伪造一个钓鱼界面实施攻击，在这种场景下，黑客具备了所有的网络与 JavaScript 调试能力，用户的私钥可以被恶意应用轻松地自动化获取。

因此，AnyWeb 针对这两大挑战设计了一套编译型、运行在隔离上下文的 WASM（WebAssembly）可信本地签名机，能够动态地生成随机的本地密钥对，用于确保云端私钥到本机的传输安全，同时 WASM 的内部签名算法不向 JavaScript 上下文暴露且经过编译和加花处理，仅接收交易 RawData 并直接返回最终签名结果。这一套机制能够很好地解决上述设计挑战、确保用户的私钥安全，黑客在这套机制下难以实施逆向攻击及钓鱼自动化。

## AnyWeb 是如何保证私钥安全的？

在默认热账户钱包情况下，用户的私钥是经过用户口令加密托管在云端的，这意味着即便是 AnyWeb 也无法知晓用户私钥的真正内容，私钥仅在每次必要的操作时经过用户的密码授权动态地解密，并几乎不在内存中停留。因此，即便 AnyWeb 数据库遭到泄漏，用户的私钥也仍然是安全的。

## 写在最后

AnyWeb 的诞生承载着产品团队对于中国 Web3 时代的无限美好期待。Web3 的愿景包含了很多社会进步诉求（共创权益、隐私保护、知识产权保护、反垄断、共同富裕等等），我们希望 AnyWeb 提供的基础设施服务能够加速推进 Web3 在中国的合规落地，让广大用户 0 门槛地感受到 Web3 所带来的体验革新。
